{
  "$schema": "https://lnav.org/schemas/format-v1.schema.json",
  "ecs_kuma_control_plane_logs_jsonlines": {
    "title": "ECS Kuma/Kong Mesh control plane log / JSON Lines",
    "file-type": "json",
    "ordered-by-time": false,
    "hide-extra": true,
    "opid-field": "service_id",
    "timestamp-field": "timestamp_ms",
    "timestamp-format": ["%i"],
    "level-field": "level",
    "level": {
      "debug": "DEBUG",
      "info": "INFO",
      "warning": "WARN",
      "error": "ERROR",
      "fatal": "FATAL"
    },
    "line-format": [
      {
        "field": "__timestamp__",
        "timestamp-format": "%H:%M:%S.%f"
      },
      " ",
      {
        "field": "service_id",
        "overflow": "truncate",
        "max-width": 9
      },
      " ",
      {
        "field": "level",
        "overflow": "truncate",
        "min-width": 5,
        "max-width": 5
      },
      " ",
      {
        "field": "logger",
        "auto-width": true
      },
      " ",
      {
        "field": "message",
        "overflow": "truncate",
        "min-width": 72,
        "max-width": 72
      },
      " ",
      {
        "field": "context",
        "default-value": ""
      }
    ],
    "value": {
      "timestamp_ms": {
        "kind": "string"
      },
      "service_id": {
        "kind": "string",
        "identifier": true
      },
      "iso_time": {
        "kind": "string",
        "hidden": true
      },
      "level": {
        "kind": "string",
        "identifier": true
      },
      "logger": {
        "kind": "string",
        "identifier": true
      },
      "message": {
        "kind": "string"
      },
      "context": {
        "kind": "json"
      }
    },
    "sample": [
      {
        "line": "{\"timestamp_ms\":\"1758999900170\",\"service_id\":\"41b8e2de508b406e94c623205f0fe0dd\",\"iso_time\":\"2025-09-27T19:05:00.170Z\",\"level\":\"DEBUG\",\"logger\":\"opa-server\",\"message\":\"on tick\",\"context\":{\"streamID\":616,\"node\":\"id:\\\"mobile-cuw-mesh.ip-10-37-150-90\\\" metadata:{fields:{key:\\\"features\\\" value:{list_value:{values:{string_value:\\\"configurable-decision-path\\\"}}}}}\"}}"
      }
    ]
  }
}
